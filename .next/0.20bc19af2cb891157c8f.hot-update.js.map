{"version":3,"file":"0.20bc19af2cb891157c8f.hot-update.js","sources":["webpack:///actions/shopActions.js","webpack:///components/Header/index.js","webpack:///config.js","webpack:///reducers/shopReducer.js"],"sourcesContent":["import { GET } from '../lib/request';\n\nexport const GET_SHOP_ITEMS_START = \"GET_SHOP_ITEMS_START\"\nexport const getShopItemsStart = (data) => {\n  return {type: GET_SHOP_ITEMS_START, data}\n}\n\nexport const GET_SHOP_ITEMS_SUCCESS = \"GET_SHOP_ITEMS_SUCCESS\"\nexport const getShopItemsSuccess = (data) => {\n  return {type: GET_SHOP_ITEMS_SUCCESS, data}\n}\n\nexport const GET_SHOP_ITEMS_ERROR = \"GET_SHOP_ITEMS_ERROR\"\nexport const getShopItemsError = (data) => {\n  return {type: GET_SHOP_ITEMS_ERROR, data}\n}\n\n\nexport const getShopItems = () => {\n  return async (dispatch) => {\n    dispatch(getShopItemsStart())\n    const resp = await GET('/product')\n    resp.data.length ? dispatch(getShopItemsSuccess(resp.data)) : dispatch(getShopItemsError('no items'))\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// actions/shopActions.js","import React, {Component} from 'react';\nimport Link from 'next/link'\nimport Router from 'next/router'\nimport cart from '../../static/cart.svg'\nimport downarrow from '../../static/downarrow.svg'\n\nimport logo from '../../static/logo.svg'\n\nimport { OidcCLientId } from '../../config';\n\nclass Header extends Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      dropdown: false\n    }\n\n    this.toggleDropdown = this.toggleDropdown.bind(this)\n    this.handleLogin = this.handleLogin.bind(this)\n    this.handleLogout = this.handleLogout.bind(this)\n  }\n\n  toggleDropdown() {\n    this.setState({\n      dropdown: this.state.dropdown == true ? false : true\n    })\n  }\n\n  handleLogin(e) {\n    e.preventDefault()\n    this.props.logIn()\n  }\n  \n  handleLogout(e) {\n    e.preventDefault()\n    this.props.logOut()\n  }\n\n  showAuth = () => {\n    return (\n  \n      <div className=\"header__menu\">\n        \n        <Link prefetch href=\"/cart\"><a style={{marginRight: '10px'}}><img src={cart} />{this.props.cart.totalItem}</a></Link>\n        <span> | </span>\n        \n          <div className=\"header__menu__dropdown\">\n            <img onClick={this.toggleDropdown} src={downarrow} />\n            <Link prefetch href=\"/account\"><a>{this.props.currentUser && this.props.currentUser.preferred_username}</a></Link>\n          </div>\n        \n        <div className={this.state.dropdown == true ? `header__menu__dropdown__menu--active` : `header__menu__dropdown__menu`}>\n          <a onClick={this.handleLogout} href=\"#\">Logout</a>\n        </div>\n        \n      </div>\n\n    )\n  }\n\n  showLoading = () => {\n    return (\n      <div className=\"header__menu\">\n        <Link href=\"/\"><a>...</a></Link>\n      </div>\n    )\n  }\n\n  noAuth = () => {\n    return (\n      <div className=\"header__menu\">\n        <a href={`https://ids.kube-prolucid.ca/register?clientId=${OidcCLientId}`}>Register</a>\n        <span>|</span>\n        <a onClick={this.handleLogin} href=\"#\">Login</a>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"header\">\n          <div className=\"header__wrapper\">\n            <div className=\"header__header\">\n              <Link href=\"/\"><a><img src={logo} /></a></Link>\n            </div>\n            {this.props.loading ? this.showLoading() :  \n            this.props.currentUser.preferred_username ? this.showAuth() : this.noAuth()}\n          </div>\n        </div>\n      </React.Fragment>\n    )\n  }\n  \n\n}\n\n\nexport default Header\n\n\n\n// WEBPACK FOOTER //\n// components/Header/index.js","import getConfig from 'next/config'\nconst { publicRuntimeConfig } = getConfig();\n\nexport const ApiUrl = publicRuntimeConfig.API_ENDPOINT;\nexport const OidcCLientId = publicRuntimeConfig.OIDC_CLIENTID;\n\n\n// WEBPACK FOOTER //\n// config.js","import {GET_SHOP_ITEMS_SUCCESS, GET_SHOP_ITEMS_START, GET_SHOP_ITEMS_ERROR} from '../actions/shopActions'\n\nconst initialState = {\n  items: [],\n  loading: true\n}\n\nexport default (state = {...initialState}, action) => {\n  switch(action.type) {\n    case GET_SHOP_ITEMS_START:\n      return { ...state}\n    case GET_SHOP_ITEMS_SUCCESS:\n      return { items: action.data, loading: false }\n    default:\n      return state\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// reducers/shopReducer.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;;;;;;;;;AAtBA;AACA;AAIA;AACA;AAIA;AACA;AAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AA4BA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AA/CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkDA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAvDA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0DA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAjEA;AAEA;AACA;AADA;AAIA;AACA;AACA;AARA;AASA;AACA;;;AACA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AA0CA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;;;;;;;;;AAlFA;AACA;AAuFA;AAAA;;;;;;;;;;;;AAxFA;;;;;;;;;;;;;;;;;;;;;;;;ACVA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;AAHA;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AAEA;AACA;AACA;AAFA;AACA;AAIA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AANA;AAQA;AACA;AAVA;;;;;;;;;;;;AALA;;;;;;;;;;A","sourceRoot":""}